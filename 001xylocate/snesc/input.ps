.include "hdr.asm"
.accu 16
.index 16
.16bit
.define __getjoystatus_locals 0
.define __clearjoy_locals 0

.section ".text_0x0" superfree

getjoystatus:
; sub sp,#__getjoystatus_locals
.ifgr __getjoystatus_locals 0
tsa
sec
sbc #__getjoystatus_locals
tas
.endif
; load 0
; type 16 reg 0x1f2 extra 0x22f370
; ld2 [sp,3],tcc__r0
; stack adjust: fc + disp - loc 5
lda 3 + __getjoystatus_locals + 1,s
sta.b tcc__r0
; gen_opi len 2 op 
; shl tcc__r0, #1
asl.b tcc__r0
; load 1
; type 164 reg 0x2f0 extra 0x0
; ld8 #snesc_controllers + 0, tcc__r1 (type 0xa4)
; FISHY! length <> PTR_SIZE! (may be an array)
lda.w #:snesc_controllers
sta.b tcc__r1h
lda.w #snesc_controllers + 0
sta.b tcc__r1
; gen_opi len 2 op +
; adc tcc__r0 (0x0), tcc__r1 (0x1) (fr type 0xa4 c 0 r type 0x0)
; length xxy 8 vtop->type 0xa4
clc
lda.b tcc__r1
adc.b tcc__r0
sta.b tcc__r1
; load 0
; type 16 reg 0x101 extra 0x0
; ld2 [tcc__r1,0],tcc__r0
lda.b [tcc__r1]
sta.b tcc__r0
; gjmp_addr 0 at 836
jmp.w __local_0
; gsym_addr t 873 a 0 ind 873
__local_0:
; gsym_addr t 873 a 903 ind 903
; add sp, #__getjoystatus_locals
.ifgr __getjoystatus_locals 0
tsa
clc
adc #__getjoystatus_locals
tas
.endif
rtl
.ends

.section ".text_0x1" superfree

clearjoy:
; sub sp,#__clearjoy_locals
.ifgr __clearjoy_locals 0
tsa
sec
sbc #__clearjoy_locals
tas
.endif
; load 0
; type 16 reg 0x1f2 extra 0x22f370
; ld2 [sp,3],tcc__r0
; stack adjust: fc + disp - loc 5
lda 3 + __clearjoy_locals + 1,s
sta.b tcc__r0
; gen_opi len 2 op 
; shl tcc__r0, #1
asl.b tcc__r0
; load 1
; type 164 reg 0x2f0 extra 0x0
; ld8 #snesc_controllers + 0, tcc__r1 (type 0xa4)
; FISHY! length <> PTR_SIZE! (may be an array)
lda.w #:snesc_controllers
sta.b tcc__r1h
lda.w #snesc_controllers + 0
sta.b tcc__r1
; gen_opi len 2 op +
; adc tcc__r0 (0x0), tcc__r1 (0x1) (fr type 0xa4 c 0 r type 0x0)
; length xxy 8 vtop->type 0xa4
clc
lda.b tcc__r1
adc.b tcc__r0
sta.b tcc__r1
; load 0
; type 16 reg 0xf0 extra 0x0
; ld2 #0,tcc__r0
lda.w #0
sta.b tcc__r0
; store r 0x0 fr 0x101 ft 0x10 fc 0x0
; st2 tcc__r0, [tcc__r1,0]
lda.b tcc__r0
sta.b [tcc__r1]
; gsym_addr t 0 a 1948 ind 1948
; add sp, #__clearjoy_locals
.ifgr __clearjoy_locals 0
tsa
clc
adc #__clearjoy_locals
tas
.endif
rtl
.ends
.ramsection "ram.data" bank $7f slot 3
__local_dummy.data dsb 1

.ends

.section ".data" superfree

__local_dummy.data: .db 0
.ends

.section ".rodata" superfree

__local_dummy.rodata: .db 0
.ends

.ramsection ".bss" bank $7e slot 2
__local_dummybss dsb 1
.ends
